{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:31:51.817Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:32:22.038Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:32:52.695Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:33:23.549Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:33:46.266Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:34:10.857Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:34:26.016Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:34:43.887Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:34:59.906Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:35:18.662Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:35:48.781Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:36:03.253Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at processTimers (node:internal/timers:543:7)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:36:33.417Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:42:47.054Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\config\\database.js:23:17)\n    at async App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\app.js:188:13)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:43:17.156Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:44:12.182Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at processTimers (node:internal/timers:543:7)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:44:42.556Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:51:35.229Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:52:05.588Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:53:49.797Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at processTimers (node:internal/timers:543:7)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:54:20.022Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T10:59:11.281Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T10:59:41.367Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T11:05:10.582Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T11:05:41.354Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-19T11:11:31.699Z"}
{"error":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at DatabaseManager.connectMongoDB (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\config\\database.ts:22:9)\n    at App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\src\\app.ts:232:7)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-19T11:12:01.793Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-20T13:54:17.595Z"}
{"error":"ConnectionError\n    at SniffingTransport._request (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:610:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:670:32\n    at async SniffingTransport.request (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:666:20)\n    at async Client.PingApi [as ping] (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\elasticsearch\\lib\\api\\api\\ping.js:41:12)\n    at async DatabaseManager.connectElasticsearch (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\config\\database.js:45:17)\n    at async App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\app.js:189:13)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-20T13:54:24.778Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-20T14:07:47.293Z"}
{"error":"ConnectionError\n    at SniffingTransport._request (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:610:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:670:32\n    at async SniffingTransport.request (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:666:20)\n    at async Client.PingApi [as ping] (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\elasticsearch\\lib\\api\\api\\ping.js:41:12)\n    at async DatabaseManager.connectElasticsearch (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\config\\database.js:45:17)\n    at async App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\app.js:189:13)","level":"error","message":"Failed to initialize services","service":"rich-onebox-emails","timestamp":"2025-10-20T14:07:55.568Z"}
{"level":"info","message":"Initializing services...","service":"rich-onebox-emails","timestamp":"2025-10-22T07:30:59.585Z"}
{"level":"info","message":"MongoDB connected successfully","service":"rich-onebox-emails","timestamp":"2025-10-22T07:30:59.774Z"}
{"level":"warn","message":"Elasticsearch connection failed - search features may not work","meta":{"headers":{},"meta":{"aborted":false,"attempts":3,"connection":{"_openRequests":0,"deadCount":0,"headers":{"user-agent":"elasticsearch-js/8.19.1 (win32 10.0.26200-x64; Node.js 24.6.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.19.1,js=24.6.0,t=8.10.0,un=24.6.0"},"id":"http://localhost:9200/","maxEventListeners":100,"pool":{"_events":{},"_eventsCount":1},"resurrectTimeout":0,"timeout":30000,"tls":null,"url":"http://localhost:9200/","weight":1000},"context":null,"name":"elasticsearch-js","request":{"id":1,"options":{},"params":{"headers":{"accept":"application/vnd.elasticsearch+json; compatible-with=8,text/plain","user-agent":"elasticsearch-js/8.19.1 (win32 10.0.26200-x64; Node.js 24.6.0; Transport 8.10.0)","x-elastic-client-meta":"es=8.19.1,js=24.6.0,t=8.10.0,un=24.6.0"},"method":"HEAD","path":"/","querystring":""}}},"statusCode":0,"warnings":null},"name":"ConnectionError","options":{"redaction":{"additionalKeys":[],"type":"replace"}},"service":"rich-onebox-emails","stack":"ConnectionError\n    at SniffingTransport._request (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:610:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:670:32\n    at async SniffingTransport.request (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\transport\\lib\\Transport.js:666:20)\n    at async Client.PingApi [as ping] (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@elastic\\elasticsearch\\lib\\api\\api\\ping.js:41:12)\n    at async DatabaseManager.connectElasticsearch (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\config\\database.js:45:17)\n    at async App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\app.js:196:17)","timestamp":"2025-10-22T07:31:06.963Z"}
{"level":"info","message":"Qdrant vector database initialized","service":"rich-onebox-emails","timestamp":"2025-10-22T07:31:07.131Z"}
{"level":"warn","message":"AI service initialization failed - AI features may not work [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/text-embedding-004:embedContent: [400 Bad Request] API key not valid. Please pass a valid API key. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"API_KEY_INVALID\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\"}},{\"@type\":\"type.googleapis.com/google.rpc.LocalizedMessage\",\"locale\":\"en-US\",\"message\":\"API key not valid. Please pass a valid API key.\"}]","service":"rich-onebox-emails","stack":"Error: [400 Bad Request] API key not valid. Please pass a valid API key. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"API_KEY_INVALID\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\"}},{\"@type\":\"type.googleapis.com/google.rpc.LocalizedMessage\",\"locale\":\"en-US\",\"message\":\"API key not valid. Please pass a valid API key.\"}]\n    at makeRequest (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@google\\generative-ai\\dist\\index.js:216:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async embedContent (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\node_modules\\@google\\generative-ai\\dist\\index.js:767:22)\n    at async GeminiAIService.generateEmbedding (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\services\\GeminiAIService.js:76:28)\n    at async GeminiAIService.initializeProductData (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\services\\GeminiAIService.js:145:35)\n    at async App.initializeServices (C:\\Users\\mores\\OneDrive\\Desktop\\RichOneBoxEmails\\dist\\app.js:210:17)","timestamp":"2025-10-22T07:31:07.746Z"}
{"level":"info","message":"IMAP service started","service":"rich-onebox-emails","timestamp":"2025-10-22T07:31:07.886Z"}
{"level":"info","message":"Services initialization completed (some services may be unavailable if not configured)","service":"rich-onebox-emails","timestamp":"2025-10-22T07:31:07.888Z"}
